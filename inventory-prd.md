# SmartStock - 智能库存管理系统 PRD

## 1. 产品概述

### 1.1 产品定位

SmartStock是一款基于Vue.js的PWA轻量级库存管理系统，专为个人和小型企业设计，支持iOS、Android和Web三端使用，无需服务器，完全本地存储数据。

### 1.2 产品价值

- **简单易用**：轻量级设计，无需复杂配置
- **跨平台**：Web端访问，并可安装到手机、平板设备上
- **离线工作**：所有功能支持离线运行
- **数据安全**：本地存储，无需担心云服务安全问题
- **成本低**：无需服务器，无需订阅费

### 1.3 目标用户

- 小型零售店主/柜台经营者
- 工作室/手工艺品创作者
- 小型电商卖家
- 个人收藏品管理者
- 小型仓库管理员

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 商品管理

- 新增/编辑/删除商品
- 批量导入/导出商品
- 商品分类与标签
- 商品图片管理
- 商品属性自定义

#### 2.1.2 库存操作

- 入库登记
- 出库登记
- 库存转移
- 库存调整
- 批量操作支持

#### 2.1.3 库存查询

- 实时库存查看
- 按类别/标签筛选
- 库存搜索
- 库存预警提示
- 库存变动历史

#### 2.1.4 数据统计

- 入库/出库统计
- 库存周转率
- 库存价值统计
- 趋势图表
- 自定义时间段报表

### 2.2 扩展功能

#### 2.2.1 条码支持

- 使用相机扫描条码/二维码
- 生成条码标签
- 批量扫码操作

#### 2.2.2 数据管理

- 数据备份与恢复
- 导入/导出（CSV、Excel）
- 定期备份提醒

#### 2.2.3 系统设置

- 用户信息设置
- 存储位置设置
- 界面主题选择
- 语言选择
- 提醒设置

## 3. 用户界面设计

### 3.1 界面风格

- 现代简约风格
- 响应式设计，适配不同屏幕尺寸
- 支持浅色/深色模式
- 关键数据使用图表可视化

### 3.2 主要页面布局

#### 3.2.1 登录/欢迎页

- 应用logo展示
- 简短应用介绍
- 注册/登录选项
- 离线使用声明

#### 3.2.2 仪表盘页面

- 库存概览（总数量、种类、价值）
- 低库存预警
- 最近活动记录
- 快速操作按钮
- 库存价值趋势图

#### 3.2.3 库存列表页面

- 商品搜索栏
- 筛选器（分类、标签、库存状态）
- 库存列表（表格视图/卡片视图切换）
- 批量操作工具栏
- 排序选项

#### 3.2.4 商品详情页面

- 商品基本信息
- 库存数量与位置
- 库存变动历史
- 相关操作按钮
- 图片预览

#### 3.2.5 入库/出库页面

- 扫码入口
- 商品选择器
- 数量输入
- 批次信息
- 备注字段

#### 3.2.6 报表页面

- 时间范围选择
- 报表类型选择
- 图表展示区
- 数据表格视图
- 导出选项

#### 3.2.7 设置页面

- 个人资料设置
- 系统参数设置
- 数据备份恢复
- 应用信息与帮助

### 3.3 导航结构

- 底部导航栏（移动端）：仪表盘、库存、操作、报表、设置
- 侧边导航栏（桌面端）：展示所有功能入口
- 快捷操作浮动按钮：添加商品、扫码等高频操作

## 4. 技术架构

### 4.1 前端架构

- **框架**：Vue.js 3 + Quasar Framework
- **构建工具**：Vite
- **UI组件库**：Quasar UI Components
- **状态管理**：Pinia
- **路由**：Vue Router (集成在Quasar中)
- **图表**：Chart.js或ECharts

### 4.2 PWA相关

- **Service Worker**：使用Quasar PWA模块和Workbox
- **Web App Manifest**：通过Quasar配置应用安装体验
- **离线支持**：预缓存关键资源
- **推送通知**：库存预警通知（如适用）

### 4.3 本地存储

- **主数据库**：IndexedDB
- **配置存储**：LocalStorage
- **缓存策略**：Cache API

### 4.4 打包方案

- **Web部署**：标准PWA（通过Quasar PWA模式）
- **移动应用打包**：使用Quasar Capacitor模式
- **桌面应用**：使用Quasar Electron模式（可选）

## 5. 数据模型设计

### 5.1 商品表(Product)

- id: String (主键，唯一标识符)
- name: String (商品名称)
- sku: String (库存单位)
- description: String (商品描述)
- category_id: String (外键，分类ID)
- tags: Array<String> (标签列表)
- attributes: Object (自定义属性，如颜色、尺寸等)
- images: Array<String> (图片URIs，本地存储)
- barcode: String (条码，可选)
- created_at: Date (创建时间)
- updated_at: Date (更新时间)

### 5.2 库存表(Inventory)

- id: String (主键)
- product_id: String (外键，关联商品)
- quantity: Number (当前库存数量)
- unit: String (单位)
- location: String (存储位置)
- min_quantity: Number (库存预警下限)
- cost_price: Number (成本价)
- selling_price: Number (销售价)
- batch: String (批次号，可选)
- expiry_date: Date (过期日期，可选)
- updated_at: Date (最后更新时间)

### 5.3 库存操作记录表(InventoryTransaction)

- id: String (主键)
- product_id: String (外键，关联商品)
- type: String (操作类型：入库、出库、调整)
- quantity: Number (操作数量)
- before_quantity: Number (操作前库存)
- after_quantity: Number (操作后库存)
- date: Date (操作日期)
- notes: String (备注)
- reference: String (参考单号，可选)
- operator: String (操作人，可选)

### 5.4 分类表(Category)

- id: String (主键)
- name: String (分类名称)
- parent_id: String (父分类ID，可选)
- description: String (描述)
- icon: String (图标)

### 5.5 设置表(Settings)

- id: String (键名)
- value: Any (设置值)
- updated_at: Date (更新时间)

## 6. 用户流程

### 6.1 首次使用流程

1. 访问应用 → 展示欢迎页
2. 创建本地账户（可选）→ 设置PIN码保护
3. 简短教程介绍（可跳过）
4. 进入仪表盘 → 提示添加第一个商品
5. 添加商品 → 确认 → 返回仪表盘

### 6.2 日常使用流程

1. 打开应用 → 验证身份（如已设置）
2. 展示仪表盘 → 查看库存概况
3. 根据需要进行库存操作或查询
4. 完成操作 → 自动保存数据

### 6.3 入库流程

1. 点击"入库"按钮
2. 选择入库方式（手动选择/扫码）
3. 选择商品 → 输入数量和其他信息
4. 确认入库 → 显示成功提示
5. 选择继续或返回

### 6.4 出库流程

1. 点击"出库"按钮
2. 选择出库方式（手动选择/扫码）
3. 选择商品 → 输入数量和其他信息
4. 确认出库 → 显示成功提示
5. 选择继续或返回

### 6.5 库存查询流程

1. 进入库存页面
2. 使用筛选器或搜索栏查找商品
3. 查看商品库存详情
4. 进行相关操作（如调整库存）

### 6.6 数据备份流程

1. 进入设置页面 → 选择"数据管理"
2. 点击"备份数据" → 选择备份方式（本地/导出）
3. 确认操作 → 生成备份文件
4. 保存备份文件至安全位置

## 7. 不同平台适配策略

### 7.1 Web平台

- 响应式布局，支持从手机到大屏显示器
- 键盘快捷键支持
- 拖放操作支持
- 浏览器通知权限请求

### 7.2 移动平台（iOS/Android）

- 手势操作优化
- 原生分享功能集成
- 相机访问（条码扫描）
- 推送通知支持
- 主屏幕快捷方式

### 7.3 离线使用策略

- 首次加载后缓存所有静态资源
- 自动保存用户操作至本地
- 定期提醒用户备份数据
- 网络恢复时可选择性同步（如云备份功能可用）

## 8. 性能与安全

### 8.1 性能优化

- 延迟加载非关键资源
- 数据分页加载
- 图片懒加载和压缩
- 大量数据的高效渲染策略

### 8.2 安全考量

- 本地数据加密存储（可选）
- PIN码/生物识别保护
- 敏感数据处理策略
- 导出数据的密码保护（可选）

## 9. 开发与测试计划

### 9.1 开发阶段划分

1. **MVP阶段**（4周）

   - 核心库存管理功能
   - 基础UI框架
   - PWA基础配置
   - 本地数据存储

2. **增强阶段**（3周）

   - 条码扫描功能
   - 数据导入导出
   - 报表功能
   - UI完善

3. **优化阶段**（2周）
   - 性能优化
   - 多平台测试
   - 用户体验改进
   - 打包为原生应用

### 9.2 测试策略

- 单元测试：核心功能和数据操作
- UI测试：所有界面和交互
- 性能测试：大数据量下的性能表现
- 跨平台测试：各种设备和浏览器

## 10. 未来拓展方向

### 10.1 潜在功能扩展

- 多用户支持
- 可选云同步备份
- 供应商管理
- 简单订单管理
- 库存预测
- 数据分析增强

### 10.2 集成可能性

- 与电商平台集成
- 二维码生成打印
- 简单POS功能
- 财务报表导出

## 11. 成功指标

### 技术指标

- 应用大小 < 5MB
- 首次加载时间 < 3秒
- 离线功能可用率 100%
- 数据操作响应时间 < 500ms

---
